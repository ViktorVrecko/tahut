<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Groups</title>
    <style type='text/css'>
        ul.nav li.dropdown:hover ul.dropdown-menu {
            display: block;
        }
    </style>
</head>

<body>
    <p>Create a new group:</p>
    <form action="#" th:action="@{/groups}" method="post">
        <p><input type="text" name="groupname" id="groupname" placeholder="Groupname" required /></p>
        <p><input type="submit" value="Submit" id="submit" /> <input type="reset" value="Reset" /></p>
    </form>
    <br>------------------------------------------------<br>
    <p>Groups managed by you:</p>
    <div th:each="group : ${groups}">
        <div class="card-body">
            <span th:text="${group.groupname}" /> <br>
        </div>
        <br>


        <div class="mt-3">
            <form action="#" th:action="@{/addMember}" th:method="patch">
            <label class="form-label" for="userId">New member:</label>
            <select class="form-select" name="userId" id="userId">
                <option value="" selected>Add a member</option>
                <span th:each="addMember : ${users}">
                    <option th:value="${addMember.getId}" th:text="${addMember.username}"></option>
                </span>
            </select>
            <input type="hidden" th:value="${group.getId}" name="groupId" />
            <input type="submit" value="Submit" id="submit" />
            </form>
        </div>
        <br>-------------------------<br>
    </div>
    <br>------------------------------------------------<br>
    <p>Groups where are you member from:</p>
    <div th:each="member : ${member}">
        <div class="card-body">
            <span th:text="${member.groupname}" />
        </div>
    </div>
</body>

</html>